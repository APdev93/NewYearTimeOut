<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<style>
			body {
				display: flex;
				justify-content: center;
				align-items: center;
				height: 100vh;
				margin: 0;
				overflow: hidden;
				background-color: #111;
				color: #fff;
				flex-direction: column;
				font-family: "Arial", sans-serif;
			}

			#video-background {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				object-fit: cover;
				z-index: -1;
				visibility: hidden;
			}

			.countdown {
				display: flex;
			}

			.countdown-item {
				margin: 0 10px;
				text-align: center;
			}

			span {
				display: block;
				font-size: 24px;
				font-weight: bold;
				/* Tambahkan text shadow dengan animasi pergantian warna */
				text-shadow: 10px 10px 10px;
				animation: colorChange 5s infinite alternate;
			}

			/* Animasi pergantian warna */
			@keyframes colorChange {
				0% {
					text-shadow: 2px 2px 4px rgba(255, 0, 0, 0.7);
				}
				25% {
					text-shadow: 2px 2px 4px rgba(0, 255, 0, 0.7);
				}
				50% {
					text-shadow: 2px 2px 4px rgba(0, 0, 255, 0.7);
				}
				75% {
					text-shadow: 2px 2px 4px rgba(255, 255, 0, 0.7);
				}
				100% {
					text-shadow: 2px 2px 4px rgba(255, 0, 255, 0.7);
				}
			}

			/* Animasi kembang api */
			@keyframes fireworks {
				0% {
					transform: translateY(0) scale(1);
					opacity: 1;
				}
				50% {
					transform: translateY(-500px) scale(1.5);
					opacity: 0.5;
				}
				100% {
					transform: translateY(-1000px) scale(0);
					opacity: 0;
				}
			}

			.firework {
				position: fixed;
				width: 10px;
				height: 10px;
				background-color: hsla(360, 100%, 50%, 1);
				border-radius: 50%;
				animation: fireworks 1s ease-out;
			}
			#hpp {
				display: none;
				font-size: 30px;
				margin-bottom: 50px;
			}
		</style>
		<title>New Year Countdown</title>
	</head>
	<body>
		<video id="video-background" autoplay muted loop>
			<source src="./api.mp4" type="video/mp4" />
			Your browser does not support the video tag.
		</video>

		<div style="margin-bottom: 200px !important" id="last10sec">
			<div
				class="countdown-item"
				style="border: 2px solid white; padding: 30px; border-radius: 50%">
				<span id="last10" style="font-size: 100px">00</span>
			</div>
		</div>
		<span id="hpp">HAPPY NEW YEARS</span>

		<div class="countdown" id="countdown">
			<div class="countdown-item">
				<span id="days">00</span>
				<span>HARI</span>
			</div>
			<div class="countdown-item">
				<span>:</span>
			</div>
			<div class="countdown-item">
				<span id="hours">00</span>
				<span>JAM</span>
			</div>
			<div class="countdown-item">
				<span>:</span>
			</div>
			<div class="countdown-item">
				<span id="minutes">00</span>
				<span>MENIT</span>
			</div>
			<div class="countdown-item">
				<span>:</span>
			</div>
			<div class="countdown-item">
				<span id="seconds">00</span>
				<span>DETIK</span>
			</div>
		</div>
		<script>
			document.addEventListener("DOMContentLoaded", function () {
				const countdownElement = document.getElementById("countdown");
				const last10SecElement = document.getElementById("last10sec");
				const fireworksContainer = document.body;
				const vidBg = document.getElementById("video-background");
				const hpp = document.getElementById("hpp");

				function updateCountdown() {
					const now = new Date().getTime();
					const newYear = new Date(
						"January 1, " + (new Date().getFullYear() + 1) + " 00:00:00",
					).getTime();
					const tenSeconds = new Date(
						"January 1, " + new Date().getFullYear() + " 00:00:10",
					).getTime();

					const distance = newYear - now;

					const days = Math.floor(distance / (1000 * 60 * 60 * 24));
					const hours = Math.floor(
						(distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60),
					);
					const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
					const seconds = Math.floor((distance % (1000 * 60)) / 1000);

					document.getElementById("days").innerText = formatTime(days);
					document.getElementById("hours").innerText = formatTime(hours);
					document.getElementById("minutes").innerText = formatTime(minutes);
					document.getElementById("seconds").innerText = formatTime(seconds);
					let hari = formatTime(days);
					let jam = formatTime(hours);
					let menit = formatTime(minutes);
					let detik = formatTime(seconds);

					if (hari == "00" && jam == "01" && menit == "01" && detik < "11") {
						last10SecElement.style.display = "block";
						document.getElementById("last10").innerText = formatTime(seconds);
					} else {
						last10SecElement.style.display = "none";
					}

					if (hari == "00" && jam == "00") {
						hpp.style.display = "block";
						vidBg.style.visibility = "visible";
					} else {
						vidBg.style.visibility = "hidden";
						hpp.style.display = "none";
					}
					if (hari == "00" && jam == "01" && menit == "01" && detik < "11") {
						for (let i = 0; i < 100; i++) {
							createFirework();
						}
					}
				}

				function formatTime(time) {
					return time < 10 ? "0" + time : time.toString().slice(-2);
				}

				function createFirework() {
					const firework = document.createElement("div");
					firework.classList.add("firework");

					// Tentukan posisi acak untuk kembang api
					firework.style.left = Math.random() * window.innerWidth + "px";
					firework.style.top = Math.random() * window.innerHeight + "px";

					// Atur warna acak untuk kembang api
					firework.style.backgroundColor = `hsla(${
						Math.random() * 360
					}, 100%, 50%, 1)`;

					fireworksContainer.appendChild(firework);

					// Hapus elemen kembang api setelah animasi selesai
					firework.addEventListener("animationend", function () {
						firework.remove();
					});
				}

				updateCountdown();
				setInterval(updateCountdown, 1000);
			});
		</script>
	</body>
  </html>
  
